<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teclado Ideal</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-gray-100 to-blue-500 min-h-screen flex items-center justify-center p-6">
    <div class="bg-white shadow-2xl rounded-3xl p-10 max-w-lg w-full text-center border border-gray-200 transform transition-all hover:scale-105">
        <h1 class="text-5xl font-extrabold text-blue-800 mb-6 drop-shadow-lg">üéπ Teclado Ideal</h1>
        <p class="text-gray-600 text-lg mb-6">Descreva seu uso musical e receba uma recomenda√ß√£o personalizada.</p>
        <div class="space-y-4">
            <input type="text" id="question" class="w-full p-4 border rounded-lg focus:ring-4 focus:ring-blue-600 outline-none text-lg shadow-md placeholder-gray-400 transition-all hover:shadow-lg" placeholder="Ex: Preciso de um teclado para tocar na igreja...">
            <button onclick="getRecommendation()" class="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white py-3 rounded-lg text-xl font-semibold hover:from-blue-700 hover:to-blue-900 transition-all shadow-lg">üîç Buscar</button>
        </div>
        <div id="response" class="mt-6 p-5 bg-gray-100 shadow-md rounded-xl text-left text-gray-800 min-h-[120px] hidden border border-gray-300"></div>
    </div>
    <script>
        async function getRecommendation() {
    const question = document.getElementById('question').value;
    const responseBox = document.getElementById('response');
    responseBox.classList.remove('hidden');
    responseBox.innerHTML = "‚è≥ Carregando...";
    
    try {
        const res = await fetch("/.netlify/functions/chatgpt", { // Chamada via fun√ß√£o serverless
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ question })
        });
        const data = await res.json();
        responseBox.innerHTML = `<p class='text-lg font-medium'>üé∂ ${data.response}</p>`;
    } catch (error) {
        responseBox.innerHTML = "‚ùå Erro ao buscar recomenda√ß√£o.";
    }
}
    </script>
</body>
</html>